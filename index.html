<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Untukmu</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Lora:ital,wght@1,400&display=swap" rel="stylesheet">
    
    <style>
        :root { --bg-color: #0d0d0d; --text-color: #e0e0e0; --button-color: #ffffff; --button-text: #000000; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--bg-color); color: var(--text-color); font-family: 'Lora', serif; overflow: hidden; height: 100vh; display: flex; justify-content: center; }
        #app { width: 100%; max-width: 480px; height: 100%; position: relative; background: linear-gradient(to bottom, #1a1a1a, #000000); display: flex; flex-direction: column; }
        
        /* Start Page */
        #landing-page { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 20; background: black; transition: opacity 1s ease-out; }
        .title { font-family: 'Dancing Script', cursive; font-size: 3rem; margin-bottom: 2rem; opacity: 0.8; }
        .btn-start { padding: 12px 30px; font-size: 1.2rem; background: transparent; color: var(--button-color); border: 1px solid var(--button-color); border-radius: 50px; cursor: pointer; transition: all 0.3s ease; letter-spacing: 2px; }
        .btn-start:active { transform: scale(0.95); background: var(--button-color); color: var(--button-text); }

        /* Main Page */
        #main-page { display: none; flex-direction: column; height: 100%; opacity: 0; transition: opacity 2s ease-in; }
        
        /* Slideshow */
        #slideshow-container { height: 45vh; width: 100%; position: relative; overflow: hidden; border-bottom: 1px solid #333; flex-shrink: 0; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out; }
        .slide.active { opacity: 1; }
        
        /* Vinyet Overlay */
        .overlay { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            /* Radial gradient untuk efek vinyet (sudut gelap) */
            background: radial-gradient(circle, rgba(0,0,0,0.2) 40%, rgba(0,0,0,0.9) 100%);
            z-index: 10; 
        }

        /* Text Area */
        #text-scroll-area { flex-grow: 1; padding: 25px; overflow-y: auto; scroll-behavior: smooth; text-align: left; position: relative; }
        #text-scroll-area::-webkit-scrollbar { width: 4px; }
        #text-scroll-area::-webkit-scrollbar-thumb { background: #333; }
        #typing-text { font-size: 1.05rem; line-height: 1.6; white-space: pre-wrap; margin-bottom: 40px; color: #ddd; }
        .cursor { display: inline-block; width: 2px; height: 1.2em; background-color: white; animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div id="app">
        <div id="landing-page">
            <h1 class="title">Hai...</h1>
            <button class="btn-start" onclick="startJourney()">Mulai</button>
        </div>

        <div id="main-page">
            <div id="slideshow-container">
                <div class="overlay"></div>
                
                <img src="media/foto1.jpg" class="slide active" alt="Foto 1">
                <img src="media/foto2.jpg" class="slide" alt="Foto 2">
                <img src="media/foto3.jpg" class="slide" alt="Foto 3">
                <img src="media/foto4.jpg" class="slide" alt="Foto 4">
                <img src="media/foto5.jpg" class="slide" alt="Foto 5">
                <img src="media/foto6.jpg" class="slide" alt="Foto 6">
                <img src="media/foto7.jpg" class="slide" alt="Foto 7">
                <img src="media/foto8.jpg" class="slide" alt="Foto 8">
                <img src="media/foto9.jpg" class="slide" alt="Foto 9">
                <img src="media/foto10.jpg" class="slide" alt="Foto 10">
                <img src="media/foto11.jpg" class="slide" alt="Foto 11">
                <img src="media/foto12.jpg" class="slide" alt="Foto 12">
            </div>

            <div id="text-scroll-area">
                <div id="typing-text"></div><span class="cursor"></span>
            </div>
        </div>
    </div>

    <audio id="bg-music" loop preload="auto">
        <source src="media/lagu.mp3" type="audio/mpeg">
    </audio>

    <script>
        // TEKS SURAT
        const fullText = `Makasih yaa..

Terima kasih banyak untuk segalanya, hiduplah dengan lebih baik lagi dan bahagia kedepannya. aku adalah salah satu orang yang ingin melihatmu selalu baik baik saja, maafkan diriku kalau kemarin aku kurang baik dalam memahami perasaan dan keinginanmu, dan maafkan aku juga ya kalau kemarin aku belum bisa menjadi apa yang kamu mau.

Tapii...

Terima kasih, terima kasih banyak karna kamu sudah mau menerimaku dengan baik, sekarang giliran kamu untuk bahagia, tapi 1 hal yang harus kamu ingat ya, didalam situasi apapun, kapanpun dan dimanapun aku akan selalu senang melihatmu bahagia meskipun tidak ada aku didalamnya, dan aku berharap, semogaa kamu selalu hidup bahagia selamanya...`;

        const landingPage = document.getElementById('landing-page');
        const mainPage = document.getElementById('main-page');
        const audio = document.getElementById('bg-music');
        const slides = document.querySelectorAll('.slide');
        const textElement = document.getElementById('typing-text');
        const cursor = document.querySelector('.cursor');
        const scrollArea = document.getElementById('text-scroll-area');
        let slideIndex = 0;
        let charIndex = 0;

        function startJourney() {
            landingPage.style.opacity = '0';
            
            // Audio Play Optimization
            audio.volume = 0.5;
            var playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Autoplay started!
                })
                .catch(error => {
                    console.log("Audio play failed, user interaction needed.");
                });
            }

            setTimeout(() => {
                landingPage.style.display = 'none';
                mainPage.style.display = 'flex';
                setTimeout(() => {
                    mainPage.style.opacity = '1';
                    startSlideshow();
                    startTyping();
                }, 100);
            }, 1000);
        }

        function startSlideshow() {
            setInterval(() => {
                slides[slideIndex].classList.remove('active');
                slideIndex = (slideIndex + 1) % slides.length;
                slides[slideIndex].classList.add('active');
            }, 3000); 
        }

        function startTyping() {
            if (charIndex < fullText.length) {
                // UPDATE: Menggunakan textContent agar lebih ringan
                textElement.textContent += fullText.charAt(charIndex);
                charIndex++;
                
                // Scroll otomatis mengikuti teks
                scrollArea.scrollTop = scrollArea.scrollHeight;
                
                let speed = Math.floor(Math.random() * 30) + 40; 
                setTimeout(startTyping, speed);
            } else {
                // Menghilangkan kursor saat teks selesai, tidak ada tombol yang muncul
                cursor.style.display = 'none';
            }
        }
    </script>
</body>
</html>
